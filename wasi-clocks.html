<h1>Import interface <code>wasi-poll</code></h1>
<h2>Types</h2>
<h2><a href="#pollable" name="pollable"></a> <a href="#pollable"><code>pollable</code></a>: <code>u32</code></h2>
<p>A &quot;pollable&quot; handle.</p>
<p>This is conceptually represents a <code>stream&lt;_, _&gt;</code>, or in other words,
a stream that one can wait on, repeatedly, but which does not itself
produce any data. It's temporary scaffolding until component-model's
async features are ready.</p>
<p>And at present, it is a <code>u32</code> instead of being an actual handle, until
the wit-bindgen implementation of handles and resources is ready.</p>
<p><a href="#pollable"><code>pollable</code></a> lifetimes are not automatically managed. Users must ensure
that they do not outlive the resource they reference.</p>
<p>Size: 4, Alignment: 4</p>
<h2>Functions</h2>
<hr />
<h4><a href="#drop_pollable" name="drop_pollable"></a> <a href="#drop_pollable"><code>drop-pollable</code></a></h4>
<p>Dispose of the specified <a href="#pollable"><code>pollable</code></a>, after which it may no longer be used.</p>
<h5>Params</h5>
<ul>
<li><a href="#drop_pollable.this" name="drop_pollable.this"></a> <code>this</code>: <a href="#pollable"><a href="#pollable"><code>pollable</code></a></a></li>
</ul>
<hr />
<h4><a href="#poll_oneoff" name="poll_oneoff"></a> <a href="#poll_oneoff"><code>poll-oneoff</code></a></h4>
<p>Poll for completion on a set of pollables.</p>
<p>The &quot;oneoff&quot; in the name refers to the fact that this function must do a
linear scan through the entire list of subscriptions, which may be
inefficient if the number is large and the same subscriptions are used
many times. In the future, this is expected to be obsoleted by the
component model async proposal, which will include a scalable waiting
facility.</p>
<p>Note that the return type would ideally be <code>list&lt;bool&gt;</code>, but that would
be more difficult to polyfill given the current state of <code>wit-bindgen</code>.
See https://github.com/bytecodealliance/preview2-prototyping/pull/11#issuecomment-1329873061
for details.  For now, we use zero to mean &quot;not ready&quot; and non-zero to
mean &quot;ready&quot;.</p>
<h5>Params</h5>
<ul>
<li><a href="#poll_oneoff.in" name="poll_oneoff.in"></a> <code>in</code>: list&lt;<a href="#pollable"><a href="#pollable"><code>pollable</code></a></a>&gt;</li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#poll_oneoff.result0" name="poll_oneoff.result0"></a> <code>result0</code>: list&lt;<code>u8</code>&gt;</li>
</ul>
<h1>Import interface <code>wasi-monotonic-clock</code></h1>
<h2>Types</h2>
<h2><a href="#pollable" name="pollable"></a> <a href="#pollable"><code>pollable</code></a>: <a href="#pollable"><a href="#pollable"><code>pollable</code></a></a></h2>
<p>Size: 4, Alignment: 4</p>
<h2><a href="#monotonic_clock" name="monotonic_clock"></a> <a href="#monotonic_clock"><code>monotonic-clock</code></a>: <code>u32</code></h2>
<p>A monotonic clock is a clock which has an unspecified initial value, and
successive reads of the clock will produce non-decreasing values.</p>
<p>It is intended for measuring elapsed time.</p>
<p>Size: 4, Alignment: 4</p>
<h2><a href="#instant" name="instant"></a> <a href="#instant"><code>instant</code></a>: <code>u64</code></h2>
<p>A timestamp in nanoseconds.</p>
<p>Size: 8, Alignment: 8</p>
<h2>Functions</h2>
<hr />
<h4><a href="#now" name="now"></a> <a href="#now"><code>now</code></a></h4>
<p>Read the current value of the clock.</p>
<p>The clock is monotonic, therefore calling this function repeatedly will produce
a sequence of non-decreasing values.</p>
<h5>Params</h5>
<ul>
<li><a href="#now.this" name="now.this"></a> <code>this</code>: <a href="#monotonic_clock"><a href="#monotonic_clock"><code>monotonic-clock</code></a></a></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#now.result0" name="now.result0"></a> <code>result0</code>: <a href="#instant"><a href="#instant"><code>instant</code></a></a></li>
</ul>
<hr />
<h4><a href="#resolution" name="resolution"></a> <a href="#resolution"><code>resolution</code></a></h4>
<p>Query the resolution of the clock.</p>
<h5>Params</h5>
<ul>
<li><a href="#resolution.this" name="resolution.this"></a> <code>this</code>: <a href="#monotonic_clock"><a href="#monotonic_clock"><code>monotonic-clock</code></a></a></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#resolution.result0" name="resolution.result0"></a> <code>result0</code>: <a href="#instant"><a href="#instant"><code>instant</code></a></a></li>
</ul>
<hr />
<h4><a href="#subscribe" name="subscribe"></a> <a href="#subscribe"><code>subscribe</code></a></h4>
<p>Create a <a href="#pollable"><code>pollable</code></a> which will resolve once the specified time has been reached.</p>
<h5>Params</h5>
<ul>
<li><a href="#subscribe.this" name="subscribe.this"></a> <code>this</code>: <a href="#monotonic_clock"><a href="#monotonic_clock"><code>monotonic-clock</code></a></a></li>
<li><a href="#subscribe.when" name="subscribe.when"></a> <code>when</code>: <a href="#instant"><a href="#instant"><code>instant</code></a></a></li>
<li><a href="#subscribe.absolute" name="subscribe.absolute"></a> <code>absolute</code>: <code>bool</code></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#subscribe.result0" name="subscribe.result0"></a> <code>result0</code>: <a href="#pollable"><a href="#pollable"><code>pollable</code></a></a></li>
</ul>
<hr />
<h4><a href="#drop_monotonic_clock" name="drop_monotonic_clock"></a> <a href="#drop_monotonic_clock"><code>drop-monotonic-clock</code></a></h4>
<p>Dispose of the specified <a href="#monotonic_clock"><code>monotonic-clock</code></a>, after which it may no longer
be used.</p>
<h5>Params</h5>
<ul>
<li><a href="#drop_monotonic_clock.this" name="drop_monotonic_clock.this"></a> <code>this</code>: <a href="#monotonic_clock"><a href="#monotonic_clock"><code>monotonic-clock</code></a></a></li>
</ul>
<h1>Import interface <code>wasi-wall-clock</code></h1>
<h2>Types</h2>
<h2><a href="#wall_clock" name="wall_clock"></a> <a href="#wall_clock"><code>wall-clock</code></a>: <code>u32</code></h2>
<p>A wall clock is a clock which measures the date and time according to some
external reference.</p>
<p>External references may be reset, so this clock is not necessarily
monotonic, making it unsuitable for measuring elapsed time.</p>
<p>It is intended for reporting the current date and time for humans.</p>
<p>Size: 4, Alignment: 4</p>
<h2><a href="#datetime" name="datetime"></a> <a href="#datetime"><code>datetime</code></a>: record</h2>
<p>A time and date in seconds plus nanoseconds.</p>
<p>Size: 16, Alignment: 8</p>
<h3>Record Fields</h3>
<ul>
<li>
<p><a href="datetime.seconds" name="datetime.seconds"></a> <a href="#datetime.seconds"><code>seconds</code></a>: <code>u64</code></p>
</li>
<li>
<p><a href="datetime.nanoseconds" name="datetime.nanoseconds"></a> <a href="#datetime.nanoseconds"><code>nanoseconds</code></a>: <code>u32</code></p>
</li>
</ul>
<h2>Functions</h2>
<hr />
<h4><a href="#now" name="now"></a> <a href="#now"><code>now</code></a></h4>
<p>Read the current value of the clock.</p>
<p>This clock is not monotonic, therefore calling this function repeatedly will
not necessarily produce a sequence of non-decreasing values.</p>
<p>The returned timestamps represent the number of seconds since
1970-01-01T00:00:00Z, also known as <a href="https://pubs.opengroup.org/onlinepubs/9699919799/xrat/V4_xbd_chap04.html#tag_21_04_16">POSIX's Seconds Since the Epoch</a>, also
known as <a href="https://en.wikipedia.org/wiki/Unix_time">Unix Time</a>.</p>
<p>The nanoseconds field of the output is always less than 1000000000.</p>
<h5>Params</h5>
<ul>
<li><a href="#now.this" name="now.this"></a> <code>this</code>: <a href="#wall_clock"><a href="#wall_clock"><code>wall-clock</code></a></a></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#now.result0" name="now.result0"></a> <code>result0</code>: <a href="#datetime"><a href="#datetime"><code>datetime</code></a></a></li>
</ul>
<hr />
<h4><a href="#resolution" name="resolution"></a> <a href="#resolution"><code>resolution</code></a></h4>
<p>Query the resolution of the clock.</p>
<p>The nanoseconds field of the output is always less than 1000000000.</p>
<h5>Params</h5>
<ul>
<li><a href="#resolution.this" name="resolution.this"></a> <code>this</code>: <a href="#wall_clock"><a href="#wall_clock"><code>wall-clock</code></a></a></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#resolution.result0" name="resolution.result0"></a> <code>result0</code>: <a href="#datetime"><a href="#datetime"><code>datetime</code></a></a></li>
</ul>
<hr />
<h4><a href="#drop_wall_clock" name="drop_wall_clock"></a> <a href="#drop_wall_clock"><code>drop-wall-clock</code></a></h4>
<p>Dispose of the specified <a href="#wall_clock"><code>wall-clock</code></a>, after which it may no longer
be used.</p>
<h5>Params</h5>
<ul>
<li><a href="#drop_wall_clock.this" name="drop_wall_clock.this"></a> <code>this</code>: <a href="#wall_clock"><a href="#wall_clock"><code>wall-clock</code></a></a></li>
</ul>
<h1>Import interface <code>wasi-timezone</code></h1>
<h2>Types</h2>
<h2><a href="#timezone_display" name="timezone_display"></a> <a href="#timezone_display"><code>timezone-display</code></a>: record</h2>
<p>Information useful for displaying the timezone of a specific <a href="#datetime"><code>datetime</code></a>.</p>
<p>This information may vary within a single <a href="#timezone"><code>timezone</code></a> to reflect daylight
saving time adjustments.</p>
<p>Size: 16, Alignment: 4</p>
<h3>Record Fields</h3>
<ul>
<li>
<p><a href="timezone_display.utc_offset" name="timezone_display.utc_offset"></a> <a href="#timezone_display.utc_offset"><a href="#utc_offset"><code>utc-offset</code></a></a>: <code>s32</code></p>
<p>The number of seconds difference between UTC time and the local time of
the timezone.</p>
<p>The returned value will always be less than 86400 which is the number of
seconds in a day (24<em>60</em>60).</p>
<p>In implementations that do not expose an actual time zone, this should
return 0.</p>
</li>
<li>
<p><a href="timezone_display.name" name="timezone_display.name"></a> <a href="#timezone_display.name"><code>name</code></a>: <code>string</code></p>
<p>The abbreviated name of the timezone to display to a user. The name <code>UTC</code>
indicates Coordinated Universal Time. Otherwise, this should reference
local standards for the name of the time zone.</p>
<p>In implementations that do not expose an actual time zone, this should be
the string <code>UTC</code>.</p>
<p>In time zones that do not have an applicable name, a formatted
representation of the UTC offset may be returned, such as <code>-04:00</code>.</p>
</li>
<li>
<p><a href="timezone_display.in_daylight_saving_time" name="timezone_display.in_daylight_saving_time"></a> <a href="#timezone_display.in_daylight_saving_time"><code>in-daylight-saving-time</code></a>: <code>bool</code></p>
<p>Whether daylight saving time is active.</p>
<p>In implementations that do not expose an actual time zone, this should
return false.</p>
</li>
</ul>
<h2><a href="#timezone" name="timezone"></a> <a href="#timezone"><code>timezone</code></a>: <code>u32</code></h2>
<p>A timezone.</p>
<p>In timezones that recognize daylight saving time, also known as daylight
time and summer time, the information returned from the functions varies
over time to reflect these adjustments.</p>
<p>Size: 4, Alignment: 4</p>
<h2><a href="#datetime" name="datetime"></a> <a href="#datetime"><code>datetime</code></a>: record</h2>
<p>A time and date in seconds plus nanoseconds.</p>
<p>TODO: Use the definition from the monotonic clock API instead of defining our own copy.</p>
<p>Size: 16, Alignment: 8</p>
<h3>Record Fields</h3>
<ul>
<li>
<p><a href="datetime.seconds" name="datetime.seconds"></a> <a href="#datetime.seconds"><code>seconds</code></a>: <code>u64</code></p>
</li>
<li>
<p><a href="datetime.nanoseconds" name="datetime.nanoseconds"></a> <a href="#datetime.nanoseconds"><code>nanoseconds</code></a>: <code>u32</code></p>
</li>
</ul>
<h2>Functions</h2>
<hr />
<h4><a href="#display" name="display"></a> <a href="#display"><code>display</code></a></h4>
<p>Return information needed to display the given <a href="#datetime"><code>datetime</code></a>. This includes
the UTC offset, the time zone name, and a flag indicating whether
daylight saving time is active.</p>
<p>If the timezone cannot be determined for the given <a href="#datetime"><code>datetime</code></a>, return a
<a href="#timezone_display"><code>timezone-display</code></a> for <code>UTC</code> with a <a href="#utc_offset"><code>utc-offset</code></a> of 0 and no daylight
saving time.</p>
<h5>Params</h5>
<ul>
<li><a href="#display.this" name="display.this"></a> <code>this</code>: <a href="#timezone"><a href="#timezone"><code>timezone</code></a></a></li>
<li><a href="#display.when" name="display.when"></a> <code>when</code>: <a href="#datetime"><a href="#datetime"><code>datetime</code></a></a></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#display.result0" name="display.result0"></a> <code>result0</code>: <a href="#timezone_display"><a href="#timezone_display"><code>timezone-display</code></a></a></li>
</ul>
<hr />
<h4><a href="#utc_offset" name="utc_offset"></a> <a href="#utc_offset"><code>utc-offset</code></a></h4>
<p>The same as <a href="#display"><code>display</code></a>, but only return the UTC offset.</p>
<h5>Params</h5>
<ul>
<li><a href="#utc_offset.this" name="utc_offset.this"></a> <code>this</code>: <a href="#timezone"><a href="#timezone"><code>timezone</code></a></a></li>
<li><a href="#utc_offset.when" name="utc_offset.when"></a> <code>when</code>: <a href="#datetime"><a href="#datetime"><code>datetime</code></a></a></li>
</ul>
<h5>Results</h5>
<ul>
<li><a href="#utc_offset.result0" name="utc_offset.result0"></a> <code>result0</code>: <code>s32</code></li>
</ul>
<hr />
<h4><a href="#drop_timezone" name="drop_timezone"></a> <a href="#drop_timezone"><code>drop-timezone</code></a></h4>
<p>Dispose of the specified input-stream, after which it may no longer
be used.</p>
<h5>Params</h5>
<ul>
<li><a href="#drop_timezone.this" name="drop_timezone.this"></a> <code>this</code>: <a href="#timezone"><a href="#timezone"><code>timezone</code></a></a></li>
</ul>
<h1>Import interface <code>wasi-default-clocks</code></h1>
<h2>Types</h2>
<h2><a href="#monotonic_clock" name="monotonic_clock"></a> <a href="#monotonic_clock"><code>monotonic-clock</code></a>: <a href="#monotonic_clock"><a href="#monotonic_clock"><code>monotonic-clock</code></a></a></h2>
<p>Size: 4, Alignment: 4</p>
<h2><a href="#wall_clock" name="wall_clock"></a> <a href="#wall_clock"><code>wall-clock</code></a>: <a href="#wall_clock"><a href="#wall_clock"><code>wall-clock</code></a></a></h2>
<p>Size: 4, Alignment: 4</p>
<h2>Functions</h2>
<hr />
<h4><a href="#default_monotonic_clock" name="default_monotonic_clock"></a> <a href="#default_monotonic_clock"><code>default-monotonic-clock</code></a></h4>
<p>Return a default monotonic clock, suitable for general-purpose application
needs.</p>
<p>This allocates a new handle, so applications with frequent need of a clock
handle should call this function once and reuse the handle instead of
calling this function each time.</p>
<h5>Results</h5>
<ul>
<li><a href="#default_monotonic_clock.result0" name="default_monotonic_clock.result0"></a> <code>result0</code>: <a href="#monotonic_clock"><a href="#monotonic_clock"><code>monotonic-clock</code></a></a></li>
</ul>
<hr />
<h4><a href="#default_wall_clock" name="default_wall_clock"></a> <a href="#default_wall_clock"><code>default-wall-clock</code></a></h4>
<p>Return a default wall clock, suitable for general-purpose application
needs.</p>
<p>This allocates a new handle, so applications with frequent need of a clock
handle should call this function once and reuse the handle instead of
calling this function each time.</p>
<h5>Results</h5>
<ul>
<li><a href="#default_wall_clock.result0" name="default_wall_clock.result0"></a> <code>result0</code>: <a href="#wall_clock"><a href="#wall_clock"><code>wall-clock</code></a></a></li>
</ul>
